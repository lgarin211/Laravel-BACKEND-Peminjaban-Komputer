{"version":3,"file":"index.js","sources":["../src/useForm.js","../src/link.js","../src/remember.js","../src/app.js","../src/useRemember.js"],"sourcesContent":["import { reactive, watch } from 'vue'\nimport cloneDeep from 'lodash.clonedeep'\nimport { Inertia } from '@inertiajs/inertia'\n\nexport default function useForm(...args) {\n  const rememberKey = typeof args[0] === 'string' ? args[0] : null\n  const data = (typeof args[0] === 'string' ? args[1] : args[0]) || {}\n  const defaults = cloneDeep(data)\n  const restored = rememberKey ? Inertia.restore(rememberKey) : null\n  let cancelToken = null\n  let recentlySuccessfulTimeoutId = null\n  let transform = data => data\n\n  let form = reactive({\n    ...restored ? restored.data : data,\n    errors: restored ? restored.errors : {},\n    hasErrors: false,\n    processing: false,\n    progress: null,\n    wasSuccessful: false,\n    recentlySuccessful: false,\n    data() {\n      return Object\n        .keys(data)\n        .reduce((carry, key) => {\n          carry[key] = this[key]\n          return carry\n        }, {})\n    },\n    transform(callback) {\n      transform = callback\n\n      return this\n    },\n    reset(...fields) {\n      let clonedDefaults = cloneDeep(defaults)\n      if (fields.length === 0) {\n        Object.assign(this, clonedDefaults)\n      } else {\n        Object.assign(\n          this,\n          Object\n            .keys(clonedDefaults)\n            .filter(key => fields.includes(key))\n            .reduce((carry, key) => {\n              carry[key] = clonedDefaults[key]\n              return carry\n            }, {}),\n        )\n      }\n\n      return this\n    },\n    clearErrors(...fields) {\n      this.errors = Object\n        .keys(this.errors)\n        .reduce((carry, field) => ({\n          ...carry,\n          ...(fields.length > 0 && !fields.includes(field) ? { [field] : this.errors[field] } : {}),\n        }), {})\n\n      this.hasErrors = Object.keys(this.errors).length > 0\n\n      return this\n    },\n    submit(method, url, options = {}) {\n      const data = transform(this.data())\n      const _options = {\n        ...options,\n        onCancelToken: (token) => {\n          cancelToken = token\n\n          if (options.cancelToken) {\n            return options.cancelToken(token)\n          }\n        },\n        onBefore: visit => {\n          this.wasSuccessful = false\n          this.recentlySuccessful = false\n          clearTimeout(recentlySuccessfulTimeoutId)\n\n          if (options.onBefore) {\n            return options.onBefore(visit)\n          }\n        },\n        onStart: visit => {\n          this.processing = true\n\n          if (options.onStart) {\n            return options.onStart(visit)\n          }\n        },\n        onProgress: event => {\n          this.progress = event\n\n          if (options.onProgress) {\n            return options.onProgress(event)\n          }\n        },\n        onSuccess: page => {\n          this.processing = false\n          this.progress = null\n          this.clearErrors()\n          this.wasSuccessful = true\n          this.recentlySuccessful = true\n          recentlySuccessfulTimeoutId = setTimeout(() => this.recentlySuccessful = false, 2000)\n\n          if (options.onSuccess) {\n            return options.onSuccess(page)\n          }\n        },\n        onError: errors => {\n          this.processing = false\n          this.progress = null\n          this.errors = errors\n          this.hasErrors = true\n\n          if (options.onError) {\n            return options.onError(errors)\n          }\n        },\n        onCancel: () => {\n          this.processing = false\n          this.progress = null\n\n          if (options.onCancel) {\n            return options.onCancel()\n          }\n        },\n        onFinish: () => {\n          cancelToken = null\n\n          if (options.onFinish) {\n            return options.onFinish()\n          }\n        },\n      }\n\n      if (method === 'delete') {\n        Inertia.delete(url, { ..._options, data  })\n      } else {\n        Inertia[method](url, data, _options)\n      }\n    },\n    get(url, options) {\n      this.submit('get', url, options)\n    },\n    post(url, options) {\n      this.submit('post', url, options)\n    },\n    put(url, options) {\n      this.submit('put', url, options)\n    },\n    patch(url, options) {\n      this.submit('patch', url, options)\n    },\n    delete(url, options) {\n      this.submit('delete', url, options)\n    },\n    cancel() {\n      if (cancelToken) {\n        cancelToken.cancel()\n      }\n    },\n    __rememberable: rememberKey === null,\n    __remember() {\n      return { data: this.data(), errors: this.errors }\n    },\n    __restore(restored) {\n      Object.assign(this, restored.data)\n      Object.assign(this.errors, restored.errors)\n      this.hasErrors = Object.keys(this.errors).length > 0\n    },\n  })\n\n  if (rememberKey) {\n    watch(form, newValue => {\n      Inertia.remember(cloneDeep(newValue.__remember()), rememberKey)\n    }, { immediate: true, deep: true })\n  }\n\n  return form\n}\n","import { h } from 'vue'\nimport { hrefToUrl, Inertia, mergeDataIntoQueryString, shouldIntercept } from '@inertiajs/inertia'\n\nexport default {\n  props: {\n    as: {\n      type: String,\n      default: 'a',\n    },\n    data: {\n      type: Object,\n      default: () => ({}),\n    },\n    href: {\n      type: String,\n      required: true,\n    },\n    method: {\n      type: String,\n      default: 'get',\n    },\n    replace: {\n      type: Boolean,\n      default: false,\n    },\n    preserveScroll: {\n      type: Boolean,\n      default: false,\n    },\n    preserveState: {\n      type: Boolean,\n      default: null,\n    },\n    only: {\n      type: Array,\n      default: () => [],\n    },\n    headers: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { slots, attrs }) {\n    return props => {\n      const as = props.as.toLowerCase()\n      const method = props.method.toLowerCase()\n      const [url, data] = mergeDataIntoQueryString(method, hrefToUrl(props.href), props.data)\n\n      if (as === 'a' && method !== 'get') {\n        console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes \"Open Link in New Tab/Window\" accessibility issues.\\n\\nPlease specify a more appropriate element using the \"as\" attribute. For example:\\n\\n<inertia-link href=\"${url.href}\" method=\"${method}\" as=\"button\">...</inertia-link>`)\n      }\n\n      return h(props.as, {\n        ...attrs,\n        ...as === 'a' ? { href: url.href } : {},\n        onClick: (event) => {\n          if (shouldIntercept(event)) {\n            event.preventDefault()\n\n            Inertia.visit(url.href, {\n              data: data,\n              method: method,\n              replace: props.replace,\n              preserveScroll: props.preserveScroll,\n              preserveState: props.preserveState ?? (method !== 'get'),\n              only: props.only,\n              headers: props.headers,\n              onCancelToken: attrs.onCancelToken || (() => ({})),\n              onBefore: attrs.onBefore || (() => ({})),\n              onStart: attrs.onStart || (() => ({})),\n              onProgress: attrs.onProgress || (() => ({})),\n              onFinish: attrs.onFinish || (() => ({})),\n              onCancel: attrs.onCancel || (() => ({})),\n              onSuccess: attrs.onSuccess || (() => ({})),\n              onError: attrs.onError || (() => ({})),\n            })\n          }\n        },\n      }, slots)\n    }\n  },\n}\n","import { Inertia } from '@inertiajs/inertia'\nimport cloneDeep from 'lodash.clonedeep'\n\nexport default {\n  created() {\n    if (!this.$options.remember) {\n      return\n    }\n\n    if (Array.isArray(this.$options.remember)) {\n      this.$options.remember = { data: this.$options.remember }\n    }\n\n    if (typeof this.$options.remember === 'string') {\n      this.$options.remember = { data: [this.$options.remember] }\n    }\n\n    if (typeof this.$options.remember.data === 'string') {\n      this.$options.remember = { data: [this.$options.remember.data] }\n    }\n\n    const rememberKey = this.$options.remember.key instanceof Function\n      ? this.$options.remember.key.call(this)\n      : this.$options.remember.key\n\n    const restored = Inertia.restore(rememberKey)\n\n    const rememberable = this.$options.remember.data.filter(key => {\n      return !(this[key] !== null && typeof this[key] === 'object' && this[key].__rememberable === false)\n    })\n\n    const hasCallacks = (key) => {\n      return this[key] !== null\n        && typeof this[key] === 'object'\n        && typeof this[key].__remember === 'function'\n        && typeof this[key].__restore === 'function'\n    }\n\n    rememberable.forEach(key => {\n      if (this[key] !== undefined && restored !== undefined && restored[key] !== undefined) {\n        hasCallacks(key) ? this[key].__restore(restored[key]) : (this[key] = restored[key])\n      }\n\n      this.$watch(key, () => {\n        Inertia.remember(\n          rememberable.reduce((data, key) => ({\n            ...data,\n            [key]: cloneDeep(hasCallacks(key) ? this[key].__remember(): this[key]),\n          }), {}),\n          rememberKey,\n        )\n      }, { immediate: true, deep: true })\n    })\n  },\n}\n","import useForm from './useForm'\nimport link from './link'\nimport remember from './remember'\nimport { computed, h, markRaw, ref } from 'vue'\nimport { Inertia } from '@inertiajs/inertia'\n\nconst component = ref(null)\nconst page = ref({})\nconst key = ref(null)\n\nexport default {\n  name: 'Inertia',\n  props: {\n    initialPage: {\n      type: Object,\n      required: true,\n    },\n    resolveComponent: {\n      type: Function,\n      required: true,\n    },\n    resolveErrors: {\n      type: Function,\n      required: false,\n    },\n    transformProps: {\n      type: Function,\n      required: false,\n    },\n  },\n  setup({ initialPage, resolveComponent, transformProps, resolveErrors }) {\n    Inertia.init({\n      initialPage,\n      resolveComponent,\n      resolveErrors,\n      transformProps,\n      swapComponent: async (args) => {\n        component.value = markRaw(args.component)\n        page.value = args.page\n        key.value = args.preserveState ? key.value : Date.now()\n      },\n    })\n\n    return () => {\n      if (component.value) {\n        const child = h(component.value, {\n          ...page.value.props,\n          key: key.value,\n        })\n\n        if (component.value.layout) {\n          if (typeof component.value.layout === 'function') {\n            return component.value.layout(h, child)\n          } else if (Array.isArray(component.value.layout)) {\n            return component.value.layout\n              .concat(child)\n              .reverse()\n              .reduce((child, layout) => h(layout, () => child))\n          }\n\n          return h(component.value.layout, () => child)\n        }\n\n        return child\n      }\n    }\n  },\n}\n\nexport const plugin = {\n  install(app) {\n    Inertia.form = useForm\n    Object.defineProperty(app.config.globalProperties, '$inertia', { get: () => Inertia })\n    Object.defineProperty(app.config.globalProperties, '$page', { get: () => page.value })\n    app.mixin(remember)\n    app.component('InertiaLink', link)\n  },\n}\n\nexport function usePage() {\n  return {\n    props: computed(() => page.value.props),\n    url: computed(() => page.value.url),\n    component: computed(() => page.value.component),\n    version: computed(() => page.value.version),\n  }\n}\n","import { isReactive, reactive, ref, watch } from 'vue'\nimport { Inertia } from '@inertiajs/inertia'\nimport cloneDeep from 'lodash.clonedeep'\n\nexport default function useRemember(data, key) {\n  if (typeof data === 'object' && data !== null && data.__rememberable === false) {\n    return data\n  }\n\n  const restored = Inertia.restore(key)\n  const type = isReactive(data) ? reactive : ref\n  const hasCallbacks = typeof data.__remember === 'function' && typeof data.__restore === 'function'\n  const remembered = restored === undefined ? data : type(hasCallbacks ? data.__restore(restored) : restored)\n\n  watch(remembered, (newValue) => {\n    Inertia.remember(cloneDeep(hasCallbacks ? data.__remember() : newValue), key)\n  }, { immediate: true, deep: true })\n\n  return remembered\n}\n"],"names":["useForm","args","rememberKey","data","defaults","cloneDeep","restored","Inertia","restore","cancelToken","recentlySuccessfulTimeoutId","transform","form","reactive","errors","hasErrors","processing","progress","wasSuccessful","recentlySuccessful","Object","keys","reduce","carry","key","_this","callback","reset","fields","clonedDefaults","assign","this","length","filter","includes","clearErrors","field","_this2","submit","method","url","options","_options","onCancelToken","token","onBefore","visit","_this3","clearTimeout","onStart","onProgress","event","onSuccess","page","setTimeout","onError","onCancel","onFinish","get","post","put","patch","cancel","__rememberable","__remember","__restore","watch","newValue","remember","immediate","deep","props","as","type","String","default","href","required","replace","Boolean","preserveScroll","preserveState","only","Array","headers","setup","slots","attrs","toLowerCase","mergeDataIntoQueryString","hrefToUrl","console","warn","h","onClick","shouldIntercept","preventDefault","created","$options","isArray","Function","call","rememberable","hasCallacks","forEach","undefined","$watch","component","ref","name","initialPage","resolveComponent","resolveErrors","transformProps","init","swapComponent","value","markRaw","Date","now","child","layout","concat","reverse","plugin","install","app","defineProperty","config","globalProperties","mixin","link","computed","version","isReactive","hasCallbacks","remembered"],"mappings":"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"}